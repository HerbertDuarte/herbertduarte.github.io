"use strict";function createScanner(n,u=!1){const b=n.length;let e=0,i="",T=0,f=16,A=0,p=0,O=0,B=0,s=0;function U(l,g){let t=0,o=0;for(;t<l||!g;){let m=n.charCodeAt(e);if(m>=48&&m<=57)o=o*16+m-48;else if(m>=65&&m<=70)o=o*16+m-65+10;else if(m>=97&&m<=102)o=o*16+m-97+10;else break;e++,t++}return t<l&&(o=-1),o}function I(l){e=l,i="",T=0,f=16,s=0}function w(){let l=e;if(n.charCodeAt(e)===48)e++;else for(e++;e<n.length&&isDigit(n.charCodeAt(e));)e++;if(e<n.length&&n.charCodeAt(e)===46)if(e++,e<n.length&&isDigit(n.charCodeAt(e)))for(e++;e<n.length&&isDigit(n.charCodeAt(e));)e++;else return s=3,n.substring(l,e);let g=e;if(e<n.length&&(n.charCodeAt(e)===69||n.charCodeAt(e)===101))if(e++,(e<n.length&&n.charCodeAt(e)===43||n.charCodeAt(e)===45)&&e++,e<n.length&&isDigit(n.charCodeAt(e))){for(e++;e<n.length&&isDigit(n.charCodeAt(e));)e++;g=e}else s=3;return n.substring(l,g)}function L(){let l="",g=e;for(;;){if(e>=b){l+=n.substring(g,e),s=2;break}const t=n.charCodeAt(e);if(t===34){l+=n.substring(g,e),e++;break}if(t===92){if(l+=n.substring(g,e),e++,e>=b){s=2;break}switch(n.charCodeAt(e++)){case 34:l+='"';break;case 92:l+="\\";break;case 47:l+="/";break;case 98:l+="\b";break;case 102:l+="\f";break;case 110:l+=`
`;break;case 114:l+="\r";break;case 116:l+="	";break;case 117:const m=U(4,!0);m>=0?l+=String.fromCharCode(m):s=4;break;default:s=5}g=e;continue}if(t>=0&&t<=31)if(isLineBreak(t)){l+=n.substring(g,e),s=2;break}else s=6;e++}return l}function v(){if(i="",s=0,T=e,p=A,B=O,e>=b)return T=b,f=17;let l=n.charCodeAt(e);if(isWhiteSpace(l)){do e++,i+=String.fromCharCode(l),l=n.charCodeAt(e);while(isWhiteSpace(l));return f=15}if(isLineBreak(l))return e++,i+=String.fromCharCode(l),l===13&&n.charCodeAt(e)===10&&(e++,i+=`
`),A++,O=e,f=14;switch(l){case 123:return e++,f=1;case 125:return e++,f=2;case 91:return e++,f=3;case 93:return e++,f=4;case 58:return e++,f=6;case 44:return e++,f=5;case 34:return e++,i=L(),f=10;case 47:const g=e-1;if(n.charCodeAt(e+1)===47){for(e+=2;e<b&&!isLineBreak(n.charCodeAt(e));)e++;return i=n.substring(g,e),f=12}if(n.charCodeAt(e+1)===42){e+=2;const t=b-1;let o=!1;for(;e<t;){const m=n.charCodeAt(e);if(m===42&&n.charCodeAt(e+1)===47){e+=2,o=!0;break}e++,isLineBreak(m)&&(m===13&&n.charCodeAt(e)===10&&e++,A++,O=e)}return o||(e++,s=1),i=n.substring(g,e),f=13}return i+=String.fromCharCode(l),e++,f=16;case 45:if(i+=String.fromCharCode(l),e++,e===b||!isDigit(n.charCodeAt(e)))return f=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return i+=w(),f=11;default:for(;e<b&&V(l);)e++,l=n.charCodeAt(e);if(T!==e){switch(i=n.substring(T,e),i){case"true":return f=8;case"false":return f=9;case"null":return f=7}return f=16}return i+=String.fromCharCode(l),e++,f=16}}function V(l){if(isWhiteSpace(l)||isLineBreak(l))return!1;switch(l){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function N(){let l;do l=v();while(l>=12&&l<=15);return l}return{setPosition:I,getPosition:()=>e,scan:u?N:v,getToken:()=>f,getTokenValue:()=>i,getTokenOffset:()=>T,getTokenLength:()=>e-T,getTokenStartLine:()=>p,getTokenStartCharacter:()=>T-B,getTokenError:()=>s}}function isWhiteSpace(n){return n===32||n===9}function isLineBreak(n){return n===10||n===13}function isDigit(n){return n>=48&&n<=57}var CharacterCodes;(function(n){n[n.lineFeed=10]="lineFeed",n[n.carriageReturn=13]="carriageReturn",n[n.space=32]="space",n[n._0=48]="_0",n[n._1=49]="_1",n[n._2=50]="_2",n[n._3=51]="_3",n[n._4=52]="_4",n[n._5=53]="_5",n[n._6=54]="_6",n[n._7=55]="_7",n[n._8=56]="_8",n[n._9=57]="_9",n[n.a=97]="a",n[n.b=98]="b",n[n.c=99]="c",n[n.d=100]="d",n[n.e=101]="e",n[n.f=102]="f",n[n.g=103]="g",n[n.h=104]="h",n[n.i=105]="i",n[n.j=106]="j",n[n.k=107]="k",n[n.l=108]="l",n[n.m=109]="m",n[n.n=110]="n",n[n.o=111]="o",n[n.p=112]="p",n[n.q=113]="q",n[n.r=114]="r",n[n.s=115]="s",n[n.t=116]="t",n[n.u=117]="u",n[n.v=118]="v",n[n.w=119]="w",n[n.x=120]="x",n[n.y=121]="y",n[n.z=122]="z",n[n.A=65]="A",n[n.B=66]="B",n[n.C=67]="C",n[n.D=68]="D",n[n.E=69]="E",n[n.F=70]="F",n[n.G=71]="G",n[n.H=72]="H",n[n.I=73]="I",n[n.J=74]="J",n[n.K=75]="K",n[n.L=76]="L",n[n.M=77]="M",n[n.N=78]="N",n[n.O=79]="O",n[n.P=80]="P",n[n.Q=81]="Q",n[n.R=82]="R",n[n.S=83]="S",n[n.T=84]="T",n[n.U=85]="U",n[n.V=86]="V",n[n.W=87]="W",n[n.X=88]="X",n[n.Y=89]="Y",n[n.Z=90]="Z",n[n.asterisk=42]="asterisk",n[n.backslash=92]="backslash",n[n.closeBrace=125]="closeBrace",n[n.closeBracket=93]="closeBracket",n[n.colon=58]="colon",n[n.comma=44]="comma",n[n.dot=46]="dot",n[n.doubleQuote=34]="doubleQuote",n[n.minus=45]="minus",n[n.openBrace=123]="openBrace",n[n.openBracket=91]="openBracket",n[n.plus=43]="plus",n[n.slash=47]="slash",n[n.formFeed=12]="formFeed",n[n.tab=9]="tab"})(CharacterCodes||(CharacterCodes={})),new Array(20).fill(0).map((n,u)=>" ".repeat(u));const maxCachedValues=200;new Array(maxCachedValues).fill(0).map((n,u)=>`
`+" ".repeat(u)),new Array(maxCachedValues).fill(0).map((n,u)=>"\r"+" ".repeat(u)),new Array(maxCachedValues).fill(0).map((n,u)=>`\r
`+" ".repeat(u)),new Array(maxCachedValues).fill(0).map((n,u)=>`
`+"	".repeat(u)),new Array(maxCachedValues).fill(0).map((n,u)=>"\r"+"	".repeat(u)),new Array(maxCachedValues).fill(0).map((n,u)=>`\r
`+"	".repeat(u));var ParseOptions;(function(n){n.DEFAULT={allowTrailingComma:!1}})(ParseOptions||(ParseOptions={}));function parse$1(n,u=[],b=ParseOptions.DEFAULT){let e=null,i=[];const T=[];function f(p){Array.isArray(i)?i.push(p):e!==null&&(i[e]=p)}return visit(n,{onObjectBegin:()=>{const p={};f(p),T.push(i),i=p,e=null},onObjectProperty:p=>{e=p},onObjectEnd:()=>{i=T.pop()},onArrayBegin:()=>{const p=[];f(p),T.push(i),i=p,e=null},onArrayEnd:()=>{i=T.pop()},onLiteralValue:f,onError:(p,O,B)=>{u.push({error:p,offset:O,length:B})}},b),i[0]}function visit(n,u,b=ParseOptions.DEFAULT){const e=createScanner(n,!1),i=[];function T(k){return k?()=>k(e.getTokenOffset(),e.getTokenLength(),e.getTokenStartLine(),e.getTokenStartCharacter()):()=>!0}function f(k){return k?()=>k(e.getTokenOffset(),e.getTokenLength(),e.getTokenStartLine(),e.getTokenStartCharacter(),()=>i.slice()):()=>!0}function A(k){return k?c=>k(c,e.getTokenOffset(),e.getTokenLength(),e.getTokenStartLine(),e.getTokenStartCharacter()):()=>!0}function p(k){return k?c=>k(c,e.getTokenOffset(),e.getTokenLength(),e.getTokenStartLine(),e.getTokenStartCharacter(),()=>i.slice()):()=>!0}const O=f(u.onObjectBegin),B=p(u.onObjectProperty),s=T(u.onObjectEnd),U=f(u.onArrayBegin),I=T(u.onArrayEnd),w=p(u.onLiteralValue),L=A(u.onSeparator),v=T(u.onComment),V=A(u.onError),N=b&&b.disallowComments,l=b&&b.allowTrailingComma;function g(){for(;;){const k=e.scan();switch(e.getTokenError()){case 4:t(14);break;case 5:t(15);break;case 3:t(13);break;case 1:N||t(11);break;case 2:t(12);break;case 6:t(16);break}switch(k){case 12:case 13:N?t(10):v();break;case 16:t(1);break;case 15:case 14:break;default:return k}}}function t(k,c=[],F=[]){if(V(k),c.length+F.length>0){let _=e.getToken();for(;_!==17;){if(c.indexOf(_)!==-1){g();break}else if(F.indexOf(_)!==-1)break;_=g()}}}function o(k){const c=e.getTokenValue();return k?w(c):(B(c),i.push(c)),g(),!0}function m(){switch(e.getToken()){case 11:const k=e.getTokenValue();let c=Number(k);isNaN(c)&&(t(2),c=0),w(c);break;case 7:w(null);break;case 8:w(!0);break;case 9:w(!1);break;default:return!1}return g(),!0}function E(){return e.getToken()!==10?(t(3,[],[2,5]),!1):(o(!1),e.getToken()===6?(L(":"),g(),j()||t(4,[],[2,5])):t(5,[],[2,5]),i.pop(),!0)}function D(){O(),g();let k=!1;for(;e.getToken()!==2&&e.getToken()!==17;){if(e.getToken()===5){if(k||t(4,[],[]),L(","),g(),e.getToken()===2&&l)break}else k&&t(6,[],[]);E()||t(4,[],[2,5]),k=!0}return s(),e.getToken()!==2?t(7,[2],[]):g(),!0}function r(){U(),g();let k=!0,c=!1;for(;e.getToken()!==4&&e.getToken()!==17;){if(e.getToken()===5){if(c||t(4,[],[]),L(","),g(),e.getToken()===4&&l)break}else c&&t(6,[],[]);k?(i.push(0),k=!1):i[i.length-1]++,j()||t(4,[],[4,5]),c=!0}return I(),k||i.pop(),e.getToken()!==4?t(8,[4],[]):g(),!0}function j(){switch(e.getToken()){case 3:return r();case 1:return D();case 10:return o(!0);default:return m()}}return g(),e.getToken()===17?b.allowEmptyContent?!0:(t(4,[],[]),!1):j()?(e.getToken()!==17&&t(9,[],[]),!0):(t(4,[],[]),!1)}var ScanError;(function(n){n[n.None=0]="None",n[n.UnexpectedEndOfComment=1]="UnexpectedEndOfComment",n[n.UnexpectedEndOfString=2]="UnexpectedEndOfString",n[n.UnexpectedEndOfNumber=3]="UnexpectedEndOfNumber",n[n.InvalidUnicode=4]="InvalidUnicode",n[n.InvalidEscapeCharacter=5]="InvalidEscapeCharacter",n[n.InvalidCharacter=6]="InvalidCharacter"})(ScanError||(ScanError={}));var SyntaxKind;(function(n){n[n.OpenBraceToken=1]="OpenBraceToken",n[n.CloseBraceToken=2]="CloseBraceToken",n[n.OpenBracketToken=3]="OpenBracketToken",n[n.CloseBracketToken=4]="CloseBracketToken",n[n.CommaToken=5]="CommaToken",n[n.ColonToken=6]="ColonToken",n[n.NullKeyword=7]="NullKeyword",n[n.TrueKeyword=8]="TrueKeyword",n[n.FalseKeyword=9]="FalseKeyword",n[n.StringLiteral=10]="StringLiteral",n[n.NumericLiteral=11]="NumericLiteral",n[n.LineCommentTrivia=12]="LineCommentTrivia",n[n.BlockCommentTrivia=13]="BlockCommentTrivia",n[n.LineBreakTrivia=14]="LineBreakTrivia",n[n.Trivia=15]="Trivia",n[n.Unknown=16]="Unknown",n[n.EOF=17]="EOF"})(SyntaxKind||(SyntaxKind={}));const parse=parse$1;var ParseErrorCode;(function(n){n[n.InvalidSymbol=1]="InvalidSymbol",n[n.InvalidNumberFormat=2]="InvalidNumberFormat",n[n.PropertyNameExpected=3]="PropertyNameExpected",n[n.ValueExpected=4]="ValueExpected",n[n.ColonExpected=5]="ColonExpected",n[n.CommaExpected=6]="CommaExpected",n[n.CloseBraceExpected=7]="CloseBraceExpected",n[n.CloseBracketExpected=8]="CloseBracketExpected",n[n.EndOfFileExpected=9]="EndOfFileExpected",n[n.InvalidCommentToken=10]="InvalidCommentToken",n[n.UnexpectedEndOfComment=11]="UnexpectedEndOfComment",n[n.UnexpectedEndOfString=12]="UnexpectedEndOfString",n[n.UnexpectedEndOfNumber=13]="UnexpectedEndOfNumber",n[n.InvalidUnicode=14]="InvalidUnicode",n[n.InvalidEscapeCharacter=15]="InvalidEscapeCharacter",n[n.InvalidCharacter=16]="InvalidCharacter"})(ParseErrorCode||(ParseErrorCode={}));function parseJSONC(n,u){return parse(n,u?.errors,u)}exports.parseJSONC=parseJSONC;
